# Scripts about Bag of Words model

## 1. buildDataset.py

`python3 buildDataset.py [path/to/folder]`

#### Features

* Open [path/to/folder] containing body of tests, generated by MetricExtractor.
* Build dataset of methods with ClassName, MethodName, Body and Label (test or CUT method) *WARNING* Change label to 0 or 1 on line 27
* Save file to `dic.json`

## In Between step

Do the same for FT and NFT, then merge `flakyTestsBody.json` and `nonFlakyTestsBody.json` to `dataset.json`

## 2. bow.py [Deprecated]

`python3 bow.py [path/to/dataset.json]`

#### Features

* Open dataset created before.
* Tokenize workds for each test methods, vector size fit on the whole dataset
* Use this representation to train a Random Forest Classifier
* Return simple metrics
* Dump model to `RFClassifierBoW.sav`

## 3. existingBow.py

`python3 existingBow.py [path/to/dataset.json] [path/to/RFClassifierBoW.sav]`

#### Features

* Same as `bow.py` be re-use an existing model instead of creating a new one

## 4. bow+K-Fold.py

`python3 bow.py [path/to/dataset.json]`

#### Features

* Open dataset created before.
* Tokenize workds for each test methods, vector size fit on the whole dataset
* Use this representation to train a Random Forest Classifier
* Cross validation
* Return advanced metrics

## 4. analyze.py

`python3 analyze.py [path/to/dataset.json]`

#### Features

* Open dataset created before.
* Return most common words used in FT and NFT
* *WARNING* based on TfidfVectorizer representation, different from the one used in the model
